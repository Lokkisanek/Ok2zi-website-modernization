;/*FB_PKG_DELIM*/

__d("CometSuperPollVoterDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="33071760762467530"}),null);
__d("CometUFIShareAction_feedback.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareAction_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_reshare_warning",storageKey:null}],type:"Feedback",abstractKey:null};a.exports=e}),null);
__d("CometUFIShareAction_shareable.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareAction_shareable",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null}],type:"Story",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIShareActionLinkMenu_shareable"}],type:"Entity",abstractKey:"__isEntity"};a.exports=e}),null);
__d("CometUFIShareAction_story.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareAction_story",selections:[{args:null,kind:"FragmentSpread",name:"CometUFIShareActionLinkMenu_story"},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"link_type",storageKey:null}],type:"LinkOpenActionLink",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null}],type:"Story",abstractKey:null};a.exports=e}),null);
__d("CometUFIShareAction.react",["CometPressable.react","CometRelay","CometTrackingNodeProvider.react","CometUFIShareActionLinkMenu.entrypoint","CometUFIShareAction_feedback.graphql","CometUFIShareAction_shareable.graphql","CometUFIShareAction_story.graphql","CometUFISharePopoverContext.react","FBLogger","FDSEntryPointPopoverTrigger.react","ReshareWarningCometDialog.entrypoint","cometGetKeyCommandConfig","cr:1761713","gkx","react","react-compiler-runtime","requireDeferred","useCometEntryPointDialog","useKeyCommands","useMergeRefs","useShareLogger","useUnifiedShareSheetLogger","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useContext,f=m.useMemo,g=m.useRef,h=m.useState,y=r("requireDeferred")("ShareMetricsLoggingController").__setRef("CometUFIShareAction.react"),C={circularButton:{borderTopColor:"x1l1xfun",borderInlineEndColor:"x1mql4dv",borderBottomColor:"xwwskcc",borderInlineStartColor:"xuujh47",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",height:"x90ne7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"x1691je0",$$css:!0}};function b(e){var t=e.children,n=e.refs;return t(r("useMergeRefs").apply(void 0,n))}b.displayName=b.name+" [from "+i.id+"]";function v(){var e=g(null),t=p(function(){r("vulture")("LJdTDyJ4-Gi8Oj5PQ6AW7cwqBDA=");var t=e.current;t!=null&&t.click()},[]),n=f(function(){return[o("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","shareStory",t)]},[t]);return r("useKeyCommands")(n,!0),e}function S(t){var a,i,l,c,m=o("react-compiler-runtime").c(36),p=t.buttonVariant,f=t.children,S=t.feedback,R=t.feedLocation,L=t.onPress,E=t.parentStory,k=t.productData,I=t.shareable,T=p===void 0?"DEFAULT":p,D=o("CometRelay").useFragment(e!==void 0?e:e=n("CometUFIShareAction_feedback.graphql"),S),x=_(r("CometUFISharePopoverContext.react")),$=x.ufiSharePopoverRef,P=o("CometRelay").useFragment(s!==void 0?s:s=n("CometUFIShareAction_story.graphql"),E),N=o("CometRelay").useFragment(u!==void 0?u:u=n("CometUFIShareAction_shareable.graphql"),I),M=h(!D.should_show_reshare_warning),w=M[0],A=M[1],F=g(null),O=(a=D.id)!=null?a:"",B;m[0]!==O?(B={feedbackID:O},m[0]=O,m[1]=B):B=m[1];var W=r("useCometEntryPointDialog")(r("ReshareWarningCometDialog.entrypoint"),B),q=W[0],U;m[2]!==q?(U=function(t){q({},function(e){A(e),e&&t()})},m[2]=q,m[3]=U):U=m[3];var V=U,H=g(!1),G=v(),z=r("useUnifiedShareSheetLogger")(),j=z.onCloseDropdownMenu,K=r("useShareLogger")(),Q=K.onOpenSharesheetButtonClicked,X=(i=(l=N==null?void 0:N.post_id)!=null?l:P==null?void 0:P.post_id)!=null?i:N==null?void 0:N.id,Y;m[4]!==R||m[5]!==Q||m[6]!==(P==null?void 0:P.tracking)||m[7]!==X?(Y=function(){var e;return Q({entry_point:R,feed_tracking:[(e=P==null?void 0:P.tracking)!=null?e:""],shareable_entity_fbid:X,sharing_component_name:"ufi_share_button"})},m[4]=R,m[5]=Q,m[6]=P==null?void 0:P.tracking,m[7]=X,m[8]=Y):Y=m[8],P==null||P.tracking;var J=Y;if(N.url==null)return r("FBLogger")("ufi2").mustfix("Can't render a share button without a `url`"),null;var Z;m[9]!==R||m[10]!==j||m[11]!==N.id||m[12]!==X?(Z=function(t){H.current&&!t?(y.onReady(function(e){e.logShareFlowAbandoned(N.id,R)}),j({entry_point:R,shareable_entity_fbid:X,sharing_component_name:"facebook_sharesheet"})):!H.current&&t&&y.onReady(function(e){e.logShareFlowStarted(N.id,R)}),H.current=t},m[9]=R,m[10]=j,m[11]=N.id,m[12]=X,m[13]=Z):Z=m[13];var ee=Z,te;m[14]!==R||m[15]!==P||m[16]!==k||m[17]!==N?(te=P!=null?{feedLocation:R,parentStory:P,productData:k,shareable:N}:{feedLocation:R,productData:k,shareable:N},m[14]=R,m[15]=P,m[16]=k,m[17]=N,m[18]=te):te=m[18];var ne=te,re=(P==null||(c=P.attachments)==null||(c=c[0])==null||(c=c.action_links)==null||(c=c[0])==null?void 0:c.link_type)==="VIEW_INSTAGRAM_PROFILE"?P==null?void 0:P.url:N.url,oe;m[19]!==R||m[20]!==re?(oe={feedLocation:R,qe_optional_share_to_page:r("gkx")("22883"),url:re},m[19]=R,m[20]=re,m[21]=oe):oe=m[21];var ae;m[22]!==T||m[23]!==f||m[24]!==w||m[25]!==J||m[26]!==L||m[27]!==G||m[28]!==V?(ae=function(t,o,a,i,l,s){return d.jsx(b,{refs:[t,F,G],children:function(t){return d.jsx(r("CometPressable.react"),{label:n("cr:1761713"),onHoverIn:i,onHoverOut:l,onPress:function(){w?o():V(o),L==null||L(),J()},onPressIn:s,overlayRadius:4,preventContextMenu:!0,ref:t,testid:void 0,xstyle:T==="CIRCULAR"&&C.circularButton,children:f})}})},m[22]=T,m[23]=f,m[24]=w,m[25]=J,m[26]=L,m[27]=G,m[28]=V,m[29]=ae):ae=m[29];var ie;return m[30]!==ee||m[31]!==ne||m[32]!==oe||m[33]!==ae||m[34]!==$?(ie=d.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:17,children:d.jsx(r("FDSEntryPointPopoverTrigger.react"),{align:"middle",entryPointParams:oe,imperativeRef:$,onVisibilityChange:ee,otherProps:ne,popoverEntryPoint:r("CometUFIShareActionLinkMenu.entrypoint"),preloadTrigger:"button_aggressive",children:ae})}),m[30]=ee,m[31]=ne,m[32]=oe,m[33]=ae,m[34]=$,m[35]=ie):ie=m[35],ie}l.default=S}),98);